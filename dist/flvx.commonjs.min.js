"use strict";Object.defineProperties(exports,{aggregator:{get:function(){return aggregator}},dispatcher:{get:function(){return dispatcher}},router:{get:function(){return router}},__esModule:{value:!0}});var storeController=Symbol(),viewController=Symbol(),registerStoreController=Symbol(),registerViewController=Symbol(),Aggregator=function(){var r=this;$traceurRuntime.setProperty(this,registerStoreController,function(e){$traceurRuntime.setProperty(r,storeController,e)}),$traceurRuntime.setProperty(this,registerViewController,function(e){$traceurRuntime.setProperty(r,viewController,e)})};$traceurRuntime.createClass(Aggregator,{update:function(){this[$traceurRuntime.toProperty(viewController)].render(this[$traceurRuntime.toProperty(storeController)].render())}},{});var aggregator=new Aggregator,Dispatcher=function(){var r=this;$traceurRuntime.setProperty(this,registerStoreController,function(e){$traceurRuntime.setProperty(r,storeController,e)})};$traceurRuntime.createClass(Dispatcher,{trigger:function(r){this[$traceurRuntime.toProperty(storeController)].trigger(r)}},{});var dispatcher=new Dispatcher,routes=Symbol(),Router=function(){$traceurRuntime.setProperty(this,routes,{})};$traceurRuntime.createClass(Router,{registerRoute:function(r,e){$traceurRuntime.setProperty(this[$traceurRuntime.toProperty(routes)],r,e)},route:function(r){var e=this[$traceurRuntime.toProperty(routes)][$traceurRuntime.toProperty(r)];if(!e)throw new Error('Unknown route "'+r+'"');var t=new e.storeController,o=new e.viewController;aggregator[$traceurRuntime.toProperty(registerStoreController)](t),aggregator[$traceurRuntime.toProperty(registerViewController)](o),dispatcher[$traceurRuntime.toProperty(registerStoreController)](t),o.onConnected&&o.onConnected(),t.onConnected&&t.onConnected()}},{});var router=new Router;