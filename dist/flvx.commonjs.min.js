"use strict";function aggregate(){if(!currentViewController)throw new Error('"aggregate" called before first route');currentViewController.render(currentStoreController.render())}function dispatch(r){if(!currentStoreController)throw new Error('"dispatch" called before first route');currentLinkController&&currentLinkController.dispatch(r),currentStoreController.dispatch(r)}function registerRoute(r,e){if(!(e.storeController instanceof StoreController))throw new Error("Invalid store controller");if(!(e.viewController instanceof ViewController))throw new Error("Invalid view controller");if(e.linkController&&!(e.linkController instanceof LinkController))throw new Error("Invalid link controller");$traceurRuntime.setProperty(routes,r,e)}function route(r,e){var n=routes[$traceurRuntime.toProperty(r)];if(!n)throw new Error('Unknown route "'+route+'"');e=e||{},currentStoreController&&currentStoreController.onDisconnected(),currentLinkController&&currentLinkController.onDisconnected(),currentViewController&&currentViewController.onDisconnected(),currentStoreController=n.storeController,currentLinkController=n.linkController,currentViewController=n.viewController,currentStoreController.onConnected(e),currentLinkController&&currentLinkController.onConnected(),currentViewController.onConnected()}Object.defineProperties(exports,{StoreController:{get:function(){return StoreController}},Store:{get:function(){return Store}},ViewController:{get:function(){return ViewController}},LinkController:{get:function(){return LinkController}},aggregate:{get:function(){return aggregate}},dispatch:{get:function(){return dispatch}},registerRoute:{get:function(){return registerRoute}},route:{get:function(){return route}},__esModule:{value:!0}});var StoreController=function(){};$traceurRuntime.createClass(StoreController,{dispatch:function(){throw new Error('"dispatch" must be implemented by a derived store controller')},render:function(){throw new Error('"render" must be implemented by a derived store controller')},onConnected:function(){},onDisconnected:function(){}},{});var Store=function(){};$traceurRuntime.createClass(Store,{dispatch:function(){throw new Error('"dispatch" must be implemented by a derived store')},render:function(){throw new Error('"render" must be implemented by a derived store')},onConnected:function(){},onDisconnected:function(){}},{});var ViewController=function(){};$traceurRuntime.createClass(ViewController,{render:function(){throw new Error('"render" must be implemented by a derived view controller')},onConnected:function(){},onDisconnected:function(){}},{});var LinkController=function(){};$traceurRuntime.createClass(LinkController,{dispatch:function(){throw new Error('"dispatch" must be implemented by a derived link controller')},onConnected:function(){},onDisconnected:function(){}},{});var currentStoreController=null,currentViewController=null,currentLinkController=null,routes={};